<?xml version="1.0" encoding="utf-8"?>
<qroot>
<question>
<Title>CMake cross compile</Title>
<Body>&lt;p&gt;I&#x27;m having problem with my cmake cross compiler project.&lt;/p&gt;&lt;p&gt;My cross compiler did not find used libraries. I setup my cross compiler with this tutorial &lt;a href=&quot;http://www.kitware.com/blog/home/post/426&quot; rel=&quot;nofollow&quot;&gt;Cross Compiler&lt;/a&gt;.&lt;/p&gt;&lt;p&gt;Now i need libs they are installed on my RaspberryPi. I have snychronised my /lib and /usr direcotry from Pi to my Computer in /opt/cross/rasp. This is my Toolchain file:&lt;/p&gt;&lt;pre&gt;&lt;code&gt;# this one is importantSET(CMAKE_SYSTEM_NAME Linux)#this one not so muchSET(CMAKE_SYSTEM_VERSION 1)# specify the cross compilerSET(CMAKE_C_COMPILER/opt/cross/x-tools/arm-unknown-linux-gnueabi/bin/arm-unknown-linux-gnueabi-gcc)SET(CMAKE_CXX_COMPILER/opt/cross/x-tools/arm-unknown-linux-gnueabi/bin/arm-unknown-linux-gnueabi-g++)# where is the target environmentSET(CMAKE_FIND_ROOT_PATH /opt/cross/rasp)# search for programs in the build host directoriesSET(CMAKE_FIND_ROOT_PATH_MODE_PROGRAM NEVER)# for libraries and headers in the target directoriesSET(CMAKE_FIND_ROOT_PATH_MODE_LIBRARY ONLY)SET(CMAKE_FIND_ROOT_PATH_MODE_INCLUDE ONLY)&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;But when i try to compile my program i get following Linking Error:&lt;/p&gt;&lt;pre&gt;&lt;code&gt;/opt/cross/x-tools/arm-unknown-linux-gnueabi/lib/gcc/arm-unknown-linux-gnueabi/4.9.1/../../../../arm-unknown-linux-gnueabi/bin/ld: warning: libltdl.so.7, needed by /opt/cross/rasp/usr/local/lib/libgphoto2.so, not found (try using -rpath or -rpath-link)/opt/cross/x-tools/arm-unknown-linux-gnueabi/lib/gcc/arm-unknown-linux-gnueabi/4.9.1/../../../../arm-unknown-linux-gnueabi/bin/ld: warning: libexif.so.12, needed by /opt/cross/rasp/usr/local/lib/libgphoto2.so, not found (try using -rpath or -rpath-link)&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;On my RaspberrPi is compiling without errors possible. &lt;/p&gt;</Body>
<Tags>c++,linux,cmake,raspberry-pi,cross-compiling</Tags>
</question>
<answer>
<Body>&lt;p&gt;The problem seems link to a misinterpretation of etc/ld.so.conf see &lt;a href=&quot;https://sysprogs.com/w/fixing-rpath-link-issues-with-cross-compilers&quot; rel=&quot;nofollow&quot;&gt;fixing-rpath-link-issues-with-cross-compilers&lt;/a&gt;&lt;/p&gt;&lt;p&gt;In order to add the missing rpath-link, you can append to the toolchain cmake file :&lt;/p&gt;&lt;pre&gt;&lt;code&gt;SET(CMAKE_EXE_LINKER_FLAGS &quot;-Wl,-rpath-link=/opt/cross/rasp/lib/arm-linux-gnueabihf:/opt/cross/rasp/usr/lib/arm-linux-gnueabihf&quot;)&lt;/code&gt;&lt;/pre&gt;</Body>
</answer>
</qroot>
