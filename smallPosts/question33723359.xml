<?xml version="1.0" encoding="utf-8"?>
<qroot>
<question>
<Title>Sorting names in tuple using lambda expression not working</Title>
<Body>&lt;p&gt;I can&#x27;t seem to be able to get a lambda function to sort a list of tuples by name(after being sorted by grades first).Here&#x27;s the code:&lt;/p&gt;&lt;pre&gt;&lt;code&gt;def sortStudents(a):    sorted(a, key=lambda b: (b[1],str(b[0])))    print(a[::-1])&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;I&#x27;m running a doctest on it and it fails when it has to sort the students by name if they have the same grade. It just returns them without sorting them by name.&lt;/p&gt;&lt;pre&gt;&lt;code&gt;Expected:[(&#x27;Barry Thomas&#x27;, 88), (&#x27;Tim Smith&#x27;, 54), (&#x27;Yulia Smith&#x27;, 54)]Got:[(&#x27;Barry Thomas&#x27;, 88), (&#x27;Yulia Smith&#x27;, 54), (&#x27;Tim Smith&#x27;, 54)]&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;I&#x27;ve found another post on here trying to do the same, and the answerer suggested the same thing i did, but it&#x27;s not really working properly. Any help is greatly appreciated!&lt;/p&gt;&lt;p&gt;EDIT:&lt;/p&gt;&lt;p&gt;here are the doctests:&lt;/p&gt;&lt;pre&gt;&lt;code&gt;&quot;&quot;&quot;&amp;gt;&amp;gt;&amp;gt; sortStudents([(&#x27;Tim Jones&#x27;, 54), (&#x27;Anna Smith&#x27;, 56), (&#x27;Barry Thomas&#x27;, 88)])[(&#x27;Barry Thomas&#x27;, 88), (&#x27;Anna Smith&#x27;, 56), (&#x27;Tim Jones&#x27;, 54)]&amp;gt;&amp;gt;&amp;gt; sortStudents([(&#x27;Tim Smith&#x27;, 54), (&#x27;Anna Smith&#x27;, 88), (&#x27;Barry Thomas&#x27;, 88)])[(&#x27;Anna Smith&#x27;, 88), (&#x27;Barry Thomas&#x27;, 88), (&#x27;Tim Smith&#x27;, 54)]&amp;gt;&amp;gt;&amp;gt; sortStudents([(&#x27;Tim Smith&#x27;, 54), (&#x27;Anna Smith&#x27;, 54), (&#x27;Barry Thomas&#x27;, 88)])[(&#x27;Barry Thomas&#x27;, 88), (&#x27;Anna Smith&#x27;, 54), (&#x27;Tim Smith&#x27;, 54)]&amp;gt;&amp;gt;&amp;gt; sortStudents([(&#x27;Tim Smith&#x27;, 54), (&#x27;Yulia Smith&#x27;, 54), (&#x27;Barry Thomas&#x27;, 88)]) [(&#x27;Barry Thomas&#x27;, 88), (&#x27;Tim Smith&#x27;, 54), (&#x27;Yulia Smith&#x27;, 54)]&quot;&quot;&quot;&lt;/code&gt;&lt;/pre&gt;</Body>
<Tags>python,sorting,lambda</Tags>
</question>
<answer>
<Body>&lt;p&gt;&lt;a href=&quot;https://docs.python.org/3/library/functions.html?highlight=sorted#sorted&quot; rel=&quot;nofollow&quot;&gt;&lt;code&gt;sorted()&lt;/code&gt;&lt;/a&gt; doesn&#x27;t change the list, but returns a sorted list. Either re-assign the sorted list to &lt;code&gt;a&lt;/code&gt;:&lt;/p&gt;&lt;pre&gt;&lt;code&gt;a = sorted(a, key=lambda b: (b[1],str(b[0])))&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Or, better yet, sort &lt;code&gt;a&lt;/code&gt; in-place with the list &lt;a href=&quot;https://docs.python.org/3/tutorial/datastructures.html&quot; rel=&quot;nofollow&quot;&gt;&lt;code&gt;sort()&lt;/code&gt;&lt;/a&gt; method:&lt;/p&gt;&lt;pre&gt;&lt;code&gt;a.sort(key=lambda b: (b[1],str(b[0])))&lt;/code&gt;&lt;/pre&gt;</Body>
</answer>
<answer>
<Body>&lt;p&gt;You&#x27;re throwing the result away, and reversing inefficiently:&lt;/p&gt;&lt;pre&gt;&lt;code&gt;def sortStudents(a):    return sorted(key=lambda b: (b[1], b[0]), reverse=True)&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;a href=&quot;https://docs.python.org/3/library/functions.html#sorted&quot; rel=&quot;nofollow&quot;&gt;&lt;strong&gt;&lt;code&gt;sorted&lt;/code&gt;&lt;/strong&gt;&lt;/a&gt; returns an iterable that is a &lt;strong&gt;copy&lt;/strong&gt; of the passed in iterable, in sorted order. It does not sort the passed list.&lt;/p&gt;</Body>
</answer>
<answer>
<Body>&lt;p&gt;You can use the &lt;a href=&quot;https://docs.python.org/3/library/operator.html#operator.itemgetter&quot; rel=&quot;nofollow&quot;&gt;&lt;code&gt;operator.itemgetter&lt;/code&gt;&lt;/a&gt; class.&lt;/p&gt;&lt;pre&gt;&lt;code&gt;&amp;gt;&amp;gt;&amp;gt; from operator import itemgetter&amp;gt;&amp;gt;&amp;gt; arr = [(&#x27;Barry Thomas&#x27;, 88), (&#x27;Yulia Smith&#x27;, 54), (&#x27;Tim Smith&#x27;, 54)]&amp;gt;&amp;gt;&amp;gt; arr.sort(key=itemgetter(1))&amp;gt;&amp;gt;&amp;gt; arr[(&#x27;Barry Thomas&#x27;, 88), (&#x27;Tim Smith&#x27;, 54), (&#x27;Yulia Smith&#x27;, 54)]&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;or &lt;/p&gt;&lt;pre&gt;&lt;code&gt;&amp;gt;&amp;gt;&amp;gt; arr = sorted(arr, key=lambda b: b[1])# [(&#x27;Barry Thomas&#x27;, 88), (&#x27;Tim Smith&#x27;, 54), (&#x27;Yulia Smith&#x27;, 54)]&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;You really don&#x27;t need to convert the second element in your tuple to string also sort by second element is enough.&lt;/p&gt;</Body>
</answer>
</qroot>
