<?xml version="1.0" encoding="utf-8"?>
<qroot>
<question>
<Title>Why am I getting decoder errors when turning my JSON array into a Python list using json.loads?</Title>
<Body>&lt;p&gt;Below is the error code I received on my Terminal call of &quot;python lastYearArray.py&quot;. (I&#x27;m on a MacBook Pro running OSX 10.9.5, editing my Python program in jEdit). According to this link: &lt;a href=&quot;https://stackoverflow.com/questions/16193521/typeerror-expected-string-or-buffer&quot;&gt;TypeError: expected string or buffer&lt;/a&gt; it appears that the function I am using doesn&#x27;t take lists either. I would just be working with the JSON file instead of converting it, but this particular JSON data has no headers or element tags, such as &quot;fruits: apple, banana, orange&quot;; it only has a long string of numbers separated by commas and braces.&lt;/p&gt;&lt;pre&gt;&lt;code&gt;Traceback (most recent call last):      File &quot;lastYearAnalysis.py&quot;, line 8, in &amp;lt;module&amp;gt;        PyListData = json.loads(lastYearArray)      File &quot;/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/json/__init__.py&quot;, line 339, in loads        return _default_decoder.decode(s)      File &quot;/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/json/decoder.py&quot;, line 364, in decode        obj, end = self.raw_decode(s, idx=_w(s, 0).end())    TypeError: expected string or buffer&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;However,I don&#x27;t know why it is telling me about a decoder, because as you can see from my rather minimal code here:&lt;/p&gt;&lt;pre&gt;&lt;code&gt;#Write json array to a python list to find the iterative location of max value#should return a value such as &quot;[n]&quot; on req for maximport requestsimport jsonlastYearArray = requests.get(&#x27;https://api.github.com/repos/mbostock/d3/stats/contributors&#x27;)PyListData = json.loads(lastYearArray)print data[PyListData]#TODO: ask for max value&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;I&#x27;m not using an explicit decoder function that I can see; I&#x27;m using json.loads. I should add that I am certainly a Python novice with regards to lists and JSON array decoding. Any info, however basic, that you can provide would be immensely helpful to me.&lt;/p&gt;&lt;p&gt;Thank you.&lt;/p&gt;</Body>
<Tags>python,json,decoder</Tags>
</question>
<answer>
<Body>&lt;p&gt;You forget to add &lt;code&gt;.text&lt;/code&gt; at the end of line &lt;strong&gt;lastYearArray =&lt;/strong&gt; to get the HTML source of the webpage.&lt;/p&gt;&lt;p&gt;Also, I think the last line is not correct...&lt;/p&gt;</Body>
</answer>
<answer>
<Body>&lt;p&gt;&lt;a href=&quot;http://docs.python-requests.org/en/master/api/#requests.get&quot; rel=&quot;nofollow&quot;&gt;&lt;code&gt;requests.get&lt;/code&gt;&lt;/a&gt; returns a &lt;a href=&quot;http://docs.python-requests.org/en/master/api/#requests.Response&quot; rel=&quot;nofollow&quot;&gt;Response&lt;/a&gt; object. That object is not a string object, so you cannot pass it to &lt;code&gt;json.loads&lt;/code&gt;.&lt;/p&gt;&lt;p&gt;You have to get the response object’s using &lt;a href=&quot;http://docs.python-requests.org/en/master/api/#requests.Response.text&quot; rel=&quot;nofollow&quot;&gt;&lt;code&gt;response.text&lt;/code&gt;&lt;/a&gt;, and pass that to &lt;code&gt;json.loads&lt;/code&gt;:&lt;/p&gt;&lt;pre&gt;&lt;code&gt;lastYearArrayResponse = requests.get(&#x27;…&#x27;)data = json.loads(lastYearArrayResponse.text)&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Alternatively, you can also use the &lt;a href=&quot;http://docs.python-requests.org/en/master/api/#requests.Response.json&quot; rel=&quot;nofollow&quot;&gt;&lt;code&gt;response.json()&lt;/code&gt;&lt;/a&gt; method to get the parsed response since requests already comes with built-in support for JSON responses:&lt;/p&gt;&lt;pre&gt;&lt;code&gt;lastYearArrayResponse = requests.get(&#x27;…&#x27;)data = lastYearArrayResponse.json()&lt;/code&gt;&lt;/pre&gt;</Body>
</answer>
</qroot>
