<?xml version="1.0" encoding="utf-8"?>
<qroot>
<question>
<Title>AndroidViewClient - can&#x27;t getXY() coordinates</Title>
<Body>&lt;p&gt;I&#x27;m running AndroidViewClient and am able to dump a complete hierarchy, but things fail when I try to getXY() or touch(). Even the solution from &lt;a href=&quot;https://stackoverflow.com/questions/24089937/get-current-focused-window-name-using-androidviewclient&quot;&gt;Get Current Focused Window Name using AndroidViewClient&lt;/a&gt; gives me an error.&lt;/p&gt;&lt;pre&gt;&lt;code&gt;  kwargs1 = {&#x27;verbose&#x27;: True, &#x27;ignoresecuredevice&#x27;: True}  kwargs2 = {&#x27;startviewserver&#x27;: True, &#x27;forceviewserveruse&#x27;: True,             &#x27;autodump&#x27;: False, &#x27;ignoreuiautomatorkilled&#x27;: True}  device, serialno = ViewClient.connectToDeviceOrExit(**kwargs1)  vc = ViewClient(device, serialno, **kwargs2)  view = vc.dump(window=&#x27;-1&#x27;)  widget = vc.findViewByIdOrRaise(&quot;id/no_id/5&quot;)  widget.useUiAutomator = False  print widget  # Up until here runs no problem.  print widget.getXY() # fails.  widget.touch() # also fails.&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;My stack trace goes something like:&lt;/p&gt;&lt;p&gt;print widget.getXY()&lt;/p&gt;&lt;p&gt;File &quot;/usr/local/lib/python2.7/dist-packages/androidviewclient-11.5.3-py2.7.egg/com/dtmilano/android/viewclient.py&quot;, line 680, in getXY    (wvx, wvy) = self.__dumpWindowsInformation(debug=debug)&lt;/p&gt;&lt;p&gt;File &quot;/usr/local/lib/python2.7/dist-packages/androidviewclient-11.5.3-py2.7.egg/com/dtmilano/android/viewclient.py&quot;, line 798, in __dumpWindowsInformation&lt;/p&gt;&lt;pre&gt;&lt;code&gt;dww = self.device.shell(&#x27;dumpsys window windows&#x27;)&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;File &quot;/usr/local/lib/python2.7/dist-packages/androidviewclient-11.5.3-py2.7.egg/com/dtmilano/android/adb/adbclient.py&quot;, line 377, in shell&lt;/p&gt;&lt;pre&gt;&lt;code&gt;self.__send(&#x27;shell:%s&#x27; % cmd, checkok=True, reconnect=False)&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;File &quot;/usr/local/lib/python2.7/dist-packages/androidviewclient-11.5.3-py2.7.egg/com/dtmilano/android/adb/adbclient.py&quot;, line 243, in __send&lt;/p&gt;&lt;pre&gt;&lt;code&gt;self.__checkOk()&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;File &quot;/usr/local/lib/python2.7/dist-packages/androidviewclient-11.5.3-py2.7.egg/com/dtmilano/android/adb/adbclient.py&quot;, line 286, in __checkOk&lt;/p&gt;&lt;pre&gt;&lt;code&gt;raise RuntimeError(&quot;ERROR: %s %s&quot; % (repr(recv), error))&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;RuntimeError: ERROR: &#x27;&#x27; &lt;/p&gt;&lt;p&gt;Any thoughts?&lt;/p&gt;</Body>
<Tags>android,python,android-uiautomator,androidviewclient</Tags>
</question>
<answer>
<Body>&lt;pre&gt;&lt;code&gt;widget = vc.findViewByIdOrRaise(&quot;id/no_id/5&quot;)widget.useUiAutomator = Falsewidget.getXY() x = (str)widget.windows[widget.currentFocus] print x&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Above code will get the Display Activity name and height and width of the screen,if u want only height and width refer below one&lt;/p&gt;&lt;pre&gt;&lt;code&gt;h = device._AdbClient__getDisplayHeight(&quot;&quot;)w = device._AdbClient__getDisplayWidth(&quot;&quot;)print (str)(h)print (str)(w)&lt;/code&gt;&lt;/pre&gt;</Body>
</answer>
</qroot>
