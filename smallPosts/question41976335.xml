<?xml version="1.0" encoding="utf-8"?>
<qroot>
<question>
<Title>Softlayer getAllBillingItems stopped working?</Title>
<Body>&lt;p&gt;The following python script worked like a charm last month:&lt;/p&gt;&lt;p&gt;Script:&lt;/p&gt;&lt;pre&gt;&lt;code&gt;import SoftLayerclient = SoftLayer.Client(username=&#x27;someUser&#x27;, api_key=&#x27;someKey&#x27;)LastInvoice = client[&#x27;Account&#x27;].getAllBillingItems()print LastInvoice&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Today&#x27;s result:&lt;/p&gt;&lt;pre&gt;&lt;code&gt;C:\Python27\python.exe C:/Users/username/Documents/Python/Softlayer/Softlayer5.pyTraceback (most recent call last):  File &quot;C:/Users/username/Documents/Python/Softlayer/Softlayer5.py&quot;, line 8, in &amp;lt;module&amp;gt;    LastInvoice = client[&#x27;Account&#x27;].getAllBillingItems()  File &quot;C:\Python27\lib\site-packages\SoftLayer\API.py&quot;, line 392, in call_handler    return self(name, *args, **kwargs)  File &quot;C:\Python27\lib\site-packages\SoftLayer\API.py&quot;, line 360, in call    return self.client.call(self.name, name, *args, **kwargs)  File &quot;C:\Python27\lib\site-packages\SoftLayer\API.py&quot;, line 263, in call    return self.transport(request)  File &quot;C:\Python27\lib\site-packages\SoftLayer\transports.py&quot;, line 197, in __call__    raise exceptions.TransportError(ex.response.status_code, str(ex))SoftLayer.exceptions.TransportError: TransportError(500): 500 Server Error: Internal Server Error for url: https://api.softlayer.com/xmlrpc/v3.1/SoftLayer_Account&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Other api actions work fine... any thoughts?&lt;/p&gt;</Body>
<Tags>python,ibm-cloud-infrastructure</Tags>
</question>
<answer>
<Body>&lt;p&gt;well the charm has a defect and it is when the response has a big amount of data, that causes timeouts in the response and the conection is closed.&lt;/p&gt;&lt;p&gt;but this issue can be easily solved by using result limits take a look to this example:&lt;/p&gt;&lt;pre&gt;&lt;code&gt;import SoftLayer# Your SoftLayer API username and key.USERNAME = &#x27;set me&#x27;API_KEY = &#x27;set me&#x27;client = SoftLayer.Client(username=USERNAME, api_key=API_KEY)offset = 0limit = 50accountService = client[&#x27;SoftLayer_Account&#x27;]while True:    try:        result = accountService.getAllBillingItems(limit=limit, offset=offset)        offset = offset + limit        limit = limit + limit        print(result)        if not result:            break    except SoftLayer.SoftLayerAPIError as e:        print(&quot;Unable to retrieve the servers . &quot; % (e.faultCode, e.faultString))        exit(1)&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Regards&lt;/p&gt;</Body>
</answer>
</qroot>
