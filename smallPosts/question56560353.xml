<?xml version="1.0" encoding="utf-8"?>
<qroot>
<question>
<Title>How to transmit form-data without POST with python requests?</Title>
<Body>&lt;p&gt;I&#x27;m writing a litte piece of python code to login on several &quot;Investing&quot;-Websites of mine and get out the current amount of money invested. I&#x27;m using pythons requests library and analyze the html-source to identify the form and the fields to fill in. So, a form may look like this:&lt;/p&gt;&lt;pre&gt;&lt;code&gt; &amp;lt;form class=&quot;onboarding-form&quot; id=&quot;loginForm&quot; action=&quot;https://estateguru.co/portal/login/authenticate&quot; method=&quot;post&quot; data-redirect=&quot;https://estateguru.co/portal/home&quot;&amp;gt;              &amp;lt;div class=&quot;row&quot;&amp;gt;                &amp;lt;div class=&quot;col-md-6&quot;&amp;gt;                  &amp;lt;div class=&quot;form-group&quot;&amp;gt;                     &amp;lt;input type=&quot;text&quot; class=&quot;form-control main-input&quot; name=&quot;username&quot;&amp;gt;                     &amp;lt;label class=&quot;bmd-label-floating main-label&quot;&amp;gt;E-Mail&amp;lt;/label&amp;gt;                     &amp;lt;em id=&quot;username-error&quot; class=&quot;error bmd-help help-block&quot; style=&quot;display:none;&quot;&amp;gt;This field is required.&amp;lt;/em&amp;gt;                    &amp;lt;/div&amp;gt;                 &amp;lt;/div&amp;gt;              &amp;lt;div class=&quot;col-md-6&quot;&amp;gt;                    &amp;lt;div class=&quot;form-group&quot;&amp;gt;                       &amp;lt;input type=&quot;password&quot; class=&quot;form-control main-input login-pass&quot; name=&quot;password&quot;&amp;gt;                        &amp;lt;label class=&quot;bmd-label-floating main-label long-label&quot;&amp;gt;Passwort (Mindestens 8 Zeichen)&amp;lt;/label&amp;gt;                        &amp;lt;em id=&quot;password-error&quot; class=&quot;error bmd-help help-block&quot; style=&quot;display:none;&quot;&amp;gt;This field is required.&amp;lt;/em&amp;gt;                         &amp;lt;a href=&quot;#&quot; class=&quot;show-pass-icon&quot;&amp;gt;&amp;lt;i class=&quot;zmdi zmdi-eye&quot;&amp;gt;&amp;lt;/i&amp;gt;&amp;lt;/a&amp;gt;                   &amp;lt;/div&amp;gt;                  &amp;lt;/div&amp;gt;                &amp;lt;/div&amp;gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;In this case, my code looks like this:&lt;/p&gt;&lt;pre&gt;&lt;code&gt;import requests_username = &#x27;xxx&#x27;_password = &#x27;yyy&#x27;loginUrl = &#x27;https://estateguru.co/portal/login/authenticate&#x27;readUrl = &#x27;https://estateguru.co/portal/portfolio/overview&#x27;with requests.session() as s:    payload = {&quot;username&quot;: _username, &quot;password&quot;: _password}    final = s.post(loginUrl, data = payload)    result = s.get(readUrl)    print(result)&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;This works lika a charm for many websites! But now i got an website without the &quot;method=post&quot; in the form, so i don&#x27;t know hot to transmit the form-data.The html-part (from &lt;a href=&quot;http://www.reinvest24.com/en/login&quot; rel=&quot;nofollow noreferrer&quot;&gt;http://www.reinvest24.com/en/login&lt;/a&gt;) looks like this:&lt;/p&gt;&lt;pre&gt;&lt;code&gt;&amp;lt;form&amp;gt;    &amp;lt;div class=&quot;form-group&quot;&amp;gt;        &amp;lt;input type=&quot;text&quot; id=&quot;email&quot; placeholder=&quot;Email&quot; value=&quot;&quot; name=&quot;email&quot; maxLength=&quot;100&quot; class=&quot;form-control&quot;/&amp;gt;    &amp;lt;/div&amp;gt;    &amp;lt;div class=&quot;form-group&quot;&amp;gt;        &amp;lt;input type=&quot;password&quot; id=&quot;password&quot; placeholder=&quot;Password&quot; value=&quot;&quot; name=&quot;password&quot; maxLength=&quot;100&quot; class=&quot;form-control&quot;/&amp;gt;    &amp;lt;/div&amp;gt;    &amp;lt;p class=&quot;forgot text-right&quot;&amp;gt;        &amp;lt;a href=&quot;/en/forgot-password&quot;&amp;gt;&amp;lt;span&amp;gt;Forgot password?&amp;lt;/span&amp;gt;&amp;lt;/a&amp;gt;    &amp;lt;/p&amp;gt;    &amp;lt;input type=&quot;submit&quot; class=&quot;btn btn-success&quot; value=&quot;Login&quot;/&amp;gt;        &amp;lt;p class=&quot;reg text-center&quot;&amp;gt;            &amp;lt;span&amp;gt;Don&amp;amp;#x27;t have an account?&amp;lt;/span&amp;gt;             &amp;lt;a href=&quot;/en/registration&quot;&amp;gt;            &amp;lt;span&amp;gt;Sign up&amp;lt;/span&amp;gt;&amp;lt;/a&amp;gt;        &amp;lt;/p&amp;gt;&amp;lt;/form&amp;gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;So without the method clarified, i tried &lt;/p&gt;&lt;pre&gt;&lt;code&gt;final = s.get(loginUrl, data = payload)&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;but without success. The result in both cases is a html-output saying something about &quot;Loading authorization details...&quot;.&lt;/p&gt;&lt;p&gt;So my question is: Am i missing the right method (POST/GET) to transmit data or am i missing some other parameter? Some websites require a session-token, which i retireve from the login-site itsself (like it&#x27;s the case in &lt;a href=&quot;https://www.mintos.com/de/login&quot; rel=&quot;nofollow noreferrer&quot;&gt;https://www.mintos.com/de/login&lt;/a&gt;), but in my opinion, this is not the problem here.&lt;/p&gt;</Body>
<Tags>python,html,forms,python-requests</Tags>
</question>
<answer>
<Body>&lt;p&gt;By default, the body (form data) of a HTTP request is ignored when the method is set to GET. Therefore you shouldn&#x27;t try to submit the request via GET (not only is it not safe to transmit sensitive info over GET, the server would just ignore the username/password of your request).&lt;/p&gt;&lt;p&gt;The issue here is that the page is doing some JavaScript magic to submit your request over a different URL. Open up your web inspector and watch the &quot;network&quot; tab whenever you try to login on that website. You should see that the request is being POSTed to &lt;code&gt;https://api-frontend.reinvest24.com/graphql&lt;/code&gt;.&lt;/p&gt;&lt;p&gt;When we inspect this POST request, we can see that the data is being transmitted as a JSON body, not a form body. So your request should look something along the lines of this:&lt;/p&gt;&lt;pre class=&quot;lang-py prettyprint-override&quot;&gt;&lt;code&gt;login_url = &#x27;https://api-frontend.reinvest24.com/graphql&#x27;payload = {    &quot;operationName&quot;: &quot;login&quot;,    &quot;variables&quot;: {        &quot;email&quot;: EMAIL,        &quot;password&quot;: PASSWORD    },    &quot;query&quot;: &quot;mutation login($email: String!, $password: String!) {\n  login(email: $email, password: $password)\n}\n&quot;}r = s.post(url=login_url, json=payload)# note that we used the &#x27;json&#x27; parameter here not &#x27;data&#x27;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Chrome web inspector is your friend here to observe how data is transmitted when logging in. &lt;/p&gt;&lt;p&gt;Good luck!&lt;/p&gt;</Body>
</answer>
</qroot>
