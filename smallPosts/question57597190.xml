<?xml version="1.0" encoding="utf-8"?>
<qroot>
<question>
<Title>How to send image file to google cloud functions via curl and read with python?</Title>
<Body>&lt;p&gt;I want to send an image.png file via curl to google cloud functions and make a keras-model prediction on it. (the model is not specified here..)&lt;/p&gt;&lt;p&gt;I have looked through various of Threads but no one fits to my problem exactly. (like this one: &lt;a href=&quot;https://stackoverflow.com/questions/55429665/how-to-use-curl-to-send-file-to-google-cloud-function&quot;&gt;How to use curl to send file to Google Cloud Function?&lt;/a&gt;  I dont want to save the file on cloud storage... ) The crucial part is to obtain the &quot;image&quot; instance from the &quot;request&quot; object given in the python environment on google cloud functions.&lt;/p&gt;&lt;pre&gt;&lt;code&gt;# the request instance is automatically created by google cloud functions # in advancedef print_prediction(request):   result = &#x27;Hello, you are looking good today!&#x27;  if request.method == &#x27;POST&#x27;:      image_raw = [request.form.get(&#x27;image&#x27;)]    result = &#x27;show me whats in there&#x27;... + str(request) + str(image_raw)   return result&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;When I pass my image file via the following command, I expect the &quot;request&quot; variable (which passed automatically given in google cloud functions from the request into the python environment) to have properties like &quot;image&quot; that I can extract by request.form.get().&lt;/p&gt;&lt;p&gt;curl --form &#x27;image=@path_to_image/some_image.png&#x27; &lt;a href=&quot;https://provided-url-from-cloud-functions&quot; rel=&quot;nofollow noreferrer&quot;&gt;https://provided-url-from-cloud-functions&lt;/a&gt;&lt;/p&gt;&lt;p&gt;To understand which attributes the request object has, I tried various prints of the objects but I cant help myself. &lt;/p&gt;&lt;p&gt;The output of the function above after executing the curl command is:&lt;/p&gt;&lt;p&gt;&#x27;show me whats in there http://europe-west1-chris-weather-app-1.cloudfunctions.net/&#x27; [POST]&gt;[None]&#x27;&lt;/p&gt;&lt;p&gt;So I think I did not extract anything from the request at all. When I use vars(request) as output it also doesnt help.&lt;/p&gt;</Body>
<Tags>python,image,function,curl,cloud</Tags>
</question>
</qroot>
